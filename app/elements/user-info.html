<link rel="import" href="../bower_components/user-badges/user-badges.html">
<link rel="import" href="../bower_components/user-surveys/user-surveys.html">

<dom-module id="user-info">
  <template>
    <h2>{{name}}</h2>
    <user-badges edit location="https://hi9site.firebaseio.com/users/" folder="{{folder}}"></user-badges>
    <user-surveys answered folder="{{folder}}" location="https://hi9site.firebaseio.com/users/"></user-surveys>
    {{firstUsed}}
    {{timeUsed}}
    {{listVisits}}
  </template>
</dom-module>
<script>
  Polymer({
    is: "user-info",
    properties: {
      name: {computed:"getName(user, paramsUid)"},
      folder: {computed:"getFolder(userUid, paramsUid)"},
      firstUsed: {computed:"getFirstUsed(userUid, paramsUid)"},
      timeUsed: {computed:"getTimeUsed(userUid, paramsUid)"},
      listVisits {computed:"getListVisits(userUid, paramsUid)"},
    },
    getFolder: function(userUid, paramsUid) {
      return paramsUid
      // todo return userUid + "/users/" + paramsUid
    },
    getName: function(user, paramsUid) {
      if (user != null) {
        return user.users[paramsUid].user.google.displayName
      }
    },
    getFirstUsed: function(user, paramsUid) {
      if (user != null) {
        return first(user.users[paramsUid].user.log)
      }
    },
    getTimeUsed: function(user, paramsUid) {
      if (user != null) {
        return timeUsed(user.users[paramsUid].user.time)
      }
    },
    getListVisits: function(user, paramsUid) {
      if (user != null) {
        return sitesLogged(user.users[paramsUid].user.log)
      }
    }
  });
  function sitesLogged(log) {
    
  }
    function sitesLogged(log) {
    
  }
    function sitesLogged(log) {
    
  }
</script>
