<link rel="import" href="../bower_components/mediator-data/mediator-data.html">

<dom-module id="firebase-data">
  <template>
    <mediator-data data="{{data}}" location="{{userUrl}}" log log-to="{{logTo}}"></mediator-data>
  </template>
</dom-module>
<script>
  ;(function () {
    var log
    Polymer({
      is: 'firebase-data',
      properties: {
        data:{ 
          type: Object, notify: true, observer: '_dataChanged'
        },
        userUrl: {
          computed:"getUserDataUrl(uid)"
        },
        uid: String,
        logTo: {
          computed:"getLogTo(uid)"
        }
      },
      getLogTo: function(uid) {
        return "https://hi9site.firebaseio.com/users/" + uid + "/log.json";
      },
      getUserDataUrl: function(uid) {
        return "https://hi9site.firebaseio.com/users/" + uid;
      },
      get: function(val){
        return val
      },
      _dataChanged: function(data) {
        if (!data) {
          this.data = {}
        }
      }
    });
  })();
</script>
